(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18c69a8c"],{"37a5":function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return i})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return r}));var a=n("b775");function o(t){return Object(a["a"])({url:"/dashboard/list",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/component/list",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/datasource/list",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/dashboard/detail",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/component/detail",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/datasource/data",method:"post",data:t})}},5628:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),o={class:"wrapper"},c={class:"list-box"},i=Object(a["o"])("新增"),l=Object(a["o"])("批量删除");function d(t,e,n,d,r,u){var s=Object(a["Q"])("a-button"),b=Object(a["Q"])("search-model"),p=Object(a["Q"])("c-table"),f=Object(a["Q"])("edit-model");return Object(a["H"])(),Object(a["m"])("div",o,[Object(a["n"])("div",c,[Object(a["p"])(b,{formList:t.formList,onOnSearch:t.handleSearch},{"tool-left":Object(a["bb"])((function(){return[Object(a["p"])(s,{class:"n-btn",onClick:t.add},{default:Object(a["bb"])((function(){return[i]})),_:1},8,["onClick"]),Object(a["p"])(s,{class:"d-btn",style:{"margin-left":"15px"},onClick:t.deleteM},{default:Object(a["bb"])((function(){return[l]})),_:1},8,["onClick"])]})),_:1},8,["formList","onOnSearch"]),Object(a["p"])(p,{loading:t.table.loading,selected:!0,columns:t.columns,dataSource:t.table.dataSource,pagination:t.table.pagination,total:t.table.pagination.total,selectedRow:t.table.selectedRowId,onTableChange:t.tableChange,onSelectChange:t.handleSelect},null,8,["loading","columns","dataSource","pagination","total","selectedRow","onTableChange","onSelectChange"]),Object(a["p"])(f,{loading:t.modal.loading,visible:t.modal.visible,type:t.modal.type,title:t.modal.title,initData:t.modal.form,formItems:t.modalFormList,onOnClose:t.modalClose},null,8,["loading","visible","type","title","initData","formItems","onOnClose"])])])}var r=n("2909"),u=n("5530"),s=(n("4de4"),n("d3b7"),n("6c02")),b=n("2af9"),p=[{label:"JSON数据",value:"json"},{label:"HTTP请求",value:"http"}],f={json:"JSON数据",http:"HTTP请求"},m=n("37a5"),O=[{label:"类型",key:"type",type:"select",option:p},{type:"btn"}],h=[{label:"名称",key:"title",type:"input",required:!0},{label:"类型",key:"type",type:"select",option:p,required:!0}],j=Object(a["q"])({components:{SearchModel:b["g"],CTable:b["c"],EditModel:b["e"]},setup:function(){var t=Object(s["c"])(),e=Object(a["L"])({}),n=[{title:"名称",dataIndex:"title",width:80},{title:"类型",dataIndex:"type",width:90,customRender:function(t){var e=t.text;return f[e]||""}},{title:"用户组",dataIndex:"group",width:130},{title:"创建人",dataIndex:"creater",width:130,ellipsis:!0},{title:"操作",dataIndex:"operation",width:70,align:"center",customRender:function(t){var e=t.record;return Object(a["p"])("div",null,[Object(a["p"])("a",{onClick:function(){return g(e)}},[Object(a["o"])("编辑")])])}}],o=Object(a["L"])({loading:!1,dataSource:[],pagination:{current:1,pageSize:20,total:0},selectedRowId:[],selectedRowKeys:[]}),c=Object(a["L"])({loading:!1,visible:!1,title:"",type:"add",form:{}}),i=function(){o.loading=!0,Object(m["f"])().then((function(t){if(200===t.code){var e=t.data;o.dataSource=e.records,o.pagination.current=e.current,o.pagination.pageSize=e.size,o.pagination.total=e.total}o.loading=!1})).catch((function(t){console.log(t),o.loading=!1}))},l=function(t){e=Object(u["a"])({},t),o.pagination.current=1,i()},d=function(t,e){o.selectedRowId=Object(r["a"])(t),o.selectedRowKeys=e},b=function(t){o.pagination.current=t.current,o.pagination.pageSize=t.pageSize,i()},p=function(){c.visible=!0,c.title="新增",c.type="add",c.form={}},j=function(t){"cancle"!==t&&o.dataSource.push(Object(u["a"])(Object(u["a"])({},t.data),{},{id:o.dataSource.length+1})),c.visible=!1,c.title="新增",c.type="add",c.form={}},g=function(e){t.push({path:"/visual/datasource/detail",query:{id:e.id,type:e.type}})},S=function(){var t=o.dataSource.filter((function(t){return!o.selectedRowId.some((function(e){return e===t.id}))}));o.dataSource=Object(r["a"])(t)};return i(),{search:e,formList:O,columns:n,table:o,modal:c,modalFormList:h,handleSelect:d,tableChange:b,handleSearch:l,add:p,edit:g,deleteM:S,modalClose:j}}}),g=n("6b0d"),S=n.n(g);const y=S()(j,[["render",d]]);e["default"]=y}}]);